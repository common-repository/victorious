<div class="wrap">    <h2>        <?php echo esc_html(__("Manage User Multi Entries", 'victorious'));?>    </h2>    <?php include VICTORIOUS__PLUGIN_DIR_VIEW."Elements/check-api-token.php";?>    <?php if($checkAPIToken === true):?>        <?php echo settings_errors();?>        <form method="post" action="">            <input name="task" type="hidden" value="save"/>            <table class="form-table" id="tbUserMiltiEntries" style="width: 700px;">                <tr>                    <th>                        <?php echo esc_html(__("User", 'victorious'));?>                    </th>                    <th>                        <?php echo esc_html(__("Entries can join", 'victorious'));?>                    </th>                    <th></th>                </tr>                <?php if($users != null):?>                    <?php foreach($users as $user):                        $info = $user['info'];                    ?>                        <tr class="user_item">                            <td>                                <input class="user_id" name="user_id[]" type="hidden" value="<?php echo esc_html($user['user_id']);?>"/>                                <input class="username" type="text" value="<?php echo esc_html($info['user_login']);?>"/>                            </td>                            <td>                                <input name="quantity[]" type="text" value="<?php echo esc_html($user['quantity']);?>"/>                            </td>                            <td>                                <a onclick="addItem();" class="fight_action fight_add" href="javascript:void(0)">                                    <img src="<?php echo VICTORIOUS__PLUGIN_URL_IMAGE.'add.png';?>" alt="<?php echo esc_html(__("Add", 'victorious'));?>" title="<?php echo esc_html(__("Add", 'victorious'));?>" />                                </a>                                &nbsp;&nbsp;                                <a onclick="removeItem(jQuery(this));" class="fight_action fight_remove" href="javascript:void(0)">                                    <img src="<?php echo VICTORIOUS__PLUGIN_URL_IMAGE.'delete.png';?>" alt="<?php echo esc_html(__("Delete", 'victorious'));?>" title="<?php echo esc_html(__("Delete", 'victorious'));?>" />                                </a>                            </td>                        </tr>                    <?php endforeach;?>                <?php endif;?>            </table>            <?php submit_button(); ?>        </form>    <?php endif;?></div><script type="text/template" id="userMiltiEntriesTemplate">    <tr class="user_item">        <td>            <input class="user_id" name="user_id[]" type="hidden"/>            <input class="username" type="text"/>        </td>        <td>            <input name="quantity[]" type="text"/>        </td>        <td>            <a onclick="addItem();" class="fight_action fight_add" href="javascript:void(0)">                <img src="<?php echo VICTORIOUS__PLUGIN_URL_IMAGE.'add.png';?>" alt="<?php echo esc_html(__("Add", 'victorious'));?>" title="<?php echo esc_html(__("Add", 'victorious'));?>" />            </a>            &nbsp;&nbsp;            <a onclick="removeItem(jQuery(this));" class="fight_action fight_remove" href="javascript:void(0)">                <img src="<?php echo VICTORIOUS__PLUGIN_URL_IMAGE.'delete.png';?>" alt="<?php echo esc_html(__("Delete", 'victorious'));?>" title="<?php echo esc_html(__("Delete", 'victorious'));?>" />            </a>        </td>    </tr></script><script type="text/javascript">    jQuery(window).load(function(){        <?php if($users != null):?>            initData();            suggestUsername();        <?php else:?>            addItem();        <?php endif;?>    });        function initData()    {        jQuery('#tbUserMiltiEntries .user_item:first').find('.fight_remove').remove();    }        function addItem()    {        var html = jQuery('#userMiltiEntriesTemplate').html();        jQuery('#tbUserMiltiEntries').append(html);        initData();        suggestUsername();    }        function removeItem(item)    {        item.closest('tr').remove();        initData();    }        function suggestUsername(){        jQuery('.username').each(function(){            var item = jQuery(this);            item.autocomplete({                source: function (request, response) {                    jQuery.post(ajaxurl, 'action=suggestUsername&username=' + item.val(), function(data){                        if(data != 'null')                        {                            response(jQuery.parseJSON(data));                        }                        else                        {                            item.val('');                        }                    });                },                minLength: 3,                messages: {                    noResults: '',                    results: function() {}                },                select: function (event, ui) {                    item.val(ui.item.label);                    item.closest('td').find('.user_id').val(ui.item.value);                    return false;                },            }).data("ui-autocomplete")._renderItem = function(ul, item) {                var term = this.term;                var regex = new RegExp(jQuery.ui.autocomplete.escapeRegex(term), "gi");                var label = item.label.replace(regex, '<b>$&</b>');                return jQuery('<li></li>').append(label).appendTo(ul);            };        })    }</script>